<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:HasteNotes.ViewModels"
        xmlns:models="clr-namespace:HasteNotes.Models"
        x:Class="HasteNotes.Views.SettingsWindow"
        x:DataType="vm:SettingsViewModel"
        Title="Settings" Width="800" Height="600">

    <StackPanel Margin="12" Spacing="10">

        <!-- Keybinds -->
        <TextBlock Text="Keybinds" FontWeight="Bold"/>

        <Grid ColumnDefinitions="Auto,120" RowDefinitions="Auto,Auto" Margin="0,4,0,0">
            <!-- Next Note -->
            <TextBlock Text="Next Note:" VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" Margin="0,0,8,8"/>
            <ComboBox ItemsSource="{Binding AllKeys}" SelectedItem="{Binding NextKey, Mode=TwoWay}" Grid.Row="0" Grid.Column="1" Width="120" Margin="0,0,0,8"/>

            <!-- Previous Note -->
            <TextBlock Text="Previous Note:" VerticalAlignment="Center" Grid.Row="1" Grid.Column="0" Margin="0,0,8,0"/>
            <ComboBox ItemsSource="{Binding AllKeys}" SelectedItem="{Binding PrevKey, Mode=TwoWay}" Grid.Row="1" Grid.Column="1" Width="120"/>
        </Grid>

        <!-- Checklist visibility -->
        <CheckBox Content="Show Checklist" IsChecked="{Binding ShowChecklist, Mode=TwoWay}"/>

         <!-- Default notes per game -->
         <TextBlock Text="Default Notes File per Game"
            FontWeight="Bold"
            Margin="0,10,0,0"/>

        <ItemsControl ItemsSource="{Binding DefaultNotesFiles}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Columns="2"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate x:DataType="models:DefaultNoteFile">
                    <StackPanel Orientation="Horizontal" Spacing="6" Margin="0,4">
                        <TextBlock Text="{Binding GameIndex}" Width="50"/>

                        <TextBox Text="{Binding FileName, Mode=TwoWay}" Width="250"/>

                        <Button Content="..." 
                                Click="OpenFilePicker_Click"
                                CommandParameter="{Binding}"/>
                                
                    </StackPanel>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <!-- Buttons -->
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="8" Margin="0,20,0,0">
            <Button Content="Save" Click="SaveButton_Click"/>
            <Button Content="Reset Defaults" Click="ResetButton_Click"/>
        </StackPanel>
    </StackPanel>
</Window>
